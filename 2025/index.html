<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sketch-your-mind.com/2025/">
    <meta property="og:title" content="Sketch Your Mind Conference, 2025">
    <meta property="og:description" content="A global gathering of visual thinkers and note-takers. Come share, discover, inspire, connect, and grow.">
    <meta property="og:image" content="https://sketch-your-mind.com/2025/assets/banner-conference.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://sketch-your-mind.com/2025/">
    <meta property="twitter:title" content="Sketch Your Mind Conference, 2025">
    <meta property="twitter:description" content="A global gathering of visual thinkers and note-takers. Come share, discover, inspire, connect, and grow.">
    <meta property="twitter:image" content="https://sketch-your-mind.com/2025/assets/banner-conference.png">

    <title>Sketch Your Mind Conference</title>
    <script src='assets/rrule.min.js'></script>
    <script src='assets/fc.index.global.min.js'></script>   
    <script src='assets/rrule.connector.min.js'></script>
    <script src='assets/luxon.min.js'></script>
    <link href="style.css" rel="stylesheet">
</head>
<body>
  <div style="max-width: 950px; margin: 40px auto 0 auto; padding: 0;">
    <img class="banner" src="assets/banner-conference.png" alt="Sketch Your Mind Conference">
    <div id="conference-intro">
      <div class="intro-lead">
        <strong>October 13-17, 2025 - Online</strong> 
      </div>
      <div class="photoscroller"></div>
      <p class="intro-body">
        A global gathering of visual thinkers who see note-taking as a canvas for creativity, <span class="accent">playfulness,</span> collaboration, and storytelling.
        <br>
        Join us for five days of interactive talks and workshops with thought leaders like Dave Gray, Nick Milo, Jerry Michalski and more.
        <br>
        Discover fresh ways to sketch ideas, unlock your creativity, and connect with a worldwide community of visual minds.
        <br>
        <strong>Free with registration.</strong> Most sessions include recordings.
      </p>
      <p class="intro-cta">
        <span class="accent">Come share, discover, inspire, connect, and grow.</span>
      </p>
    </div>
    <img class="decoration" src="assets/presentation.png" alt="Presenting at the conference" />
    <!--<div id="Ax6W40UyWSpuLFxl8VHyQkQuE" class="hopin-container"></div>
      <script>
      (function() {
        var container = document.getElementById('Ax6W40UyWSpuLFxl8VHyQkQuE')  
        var iframe =  document.createElement('iframe');
        iframe.src = 'https://registration.events.ringcentral.com/widgets/registration/sketch-your-mind-conference-test-1?widget_id=Ax6W40UyWSpuLFxl8VHyQkQuE' + window.location.search.replace('?', '&');
        iframe.loading = 'lazy';
        container.appendChild(iframe);
      })();
      </script>-->
    <div id="calendar"></div>
    <div id="info-message"></div>
  </div>

  <!-- Configure the presenters shown in the photo scroller -->
  <script>
    // Update with real image paths
    window.scrollerContent = [
      { photo: 'sessions/gamestorming/DaveGray.jpg', name: 'Dave Gray' },
      { photo: 'sessions/ingrid/IngridLill.jpg', name: 'Ingrid Lill' },
      { photo: 'sessions/janis/JanisOzolins.jpg', name: 'Janis Ozolins' },
      { photo: 'sessions/brain/jerry-michalski.jpg', name: 'Jerry Michalski' },
      { photo: 'sessions/jono/Jono-Hey.jpg', name: 'Jono Hey' },
      { photo: 'sessions/jorge/JorgeArango.jpg', name: 'Jorge Arango' },
      { photo: 'sessions/genius/LisaRothstein.jpg', name: 'Lisa Rothstein' },
      { photo: 'sessions/emergence/NickMilo.jpg', name: 'Nick Milo' },
      { photo: 'sessions/sousanis/sousanis.jpg', name: 'Nick Sousanis' },
      { photo: 'sessions/nicole/nicolevanderhoeven.png', name: 'Nicole van der Hoeven' },
      { photo: 'sessions/ole/OleQvist-Sorensen.png', name: 'Ole Qvist-Sørensen' },
      { photo: 'sessions/jono/Oliver-Caviglioli.png', name: 'Oliver Caviglioli' },
      { photo: 'sessions/anderson/Stephen-Anderson.png', name: 'Stephen P. Anderson' },
      { photo: 'sessions/sym/zsviczian.png', name: 'Zsolt Viczian' }
    ];
    // Optional: tweak behavior
    window.scrollerOptions = { speed: 80, gap: 12, imgSize: 72, direction: 'left', pauseOnHover: true };
  </script>
  <script src="assets/photo-scroller.js"></script>

  <!-- Add externalized utilities and config -->
  <script src="utils.js"></script>
  <script src="config.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var calendarEl = document.getElementById('calendar');
      var events = [];

      // For each day, add 3 sessions only (no breaks)
      for (let day in SESSIONS) {
          // Session 1: 16:00–17:00 UTC
          const confDay = addDays(CONFERENCE_START, parseInt(day, 10));
          
          !!SESSIONS[day]["1"]?.title && events.push({
              title: `${SESSIONS[day]["1"].title} - ${SESSIONS[day]["1"].presenter} - ${SESSIONS[day]["1"].link}`,
              start: confDay,
              end: addHours(confDay, 1, 0)
          });
          // Session 2: 17:30–18:30 UTC
          !!SESSIONS[day]["2"]?.title && events.push({
              title: `${SESSIONS[day]["2"].title} - ${SESSIONS[day]["2"].presenter} - ${SESSIONS[day]["2"].link}`,
              start: addHours(confDay, 1, 30),
              end: addHours(confDay, 2, 30)
          });
          // Session 3: 19:00–20:00 UTC
          !!SESSIONS[day]["3"]?.title && events.push({
              title: `${SESSIONS[day]["3"].title} - ${SESSIONS[day]["3"].presenter} - ${SESSIONS[day]["3"].link}`,
              start: addHours(confDay, 3, 0),
              end: addHours(confDay, 4, 0)
          });
      }

      // Calculate local slotMinTime and slotMaxTime based on UTC session times
      // First session starts at 16:00 UTC, last session ends at 20:00 UTC
      const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
      const baseUtc = luxon.DateTime.fromISO(CONFERENCE_START.toISOString(), { zone: 'utc' });
      const localStart = baseUtc.setZone(tz);
      const localEnd = baseUtc.plus({ hours: 4 }).setZone(tz);

      // Decide the initial view based on screen width
      const isMobile = window.matchMedia('(max-width: 600px)').matches;
      const initialView = isMobile ? 'listWeek' : 'timeGridWeek';

      var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: initialView,
          contentHeight: 'auto',
          timeZone: 'local',
          displayEventTime: true,
          eventTimeFormat: { hour: '2-digit', minute: '2-digit', hour12: false },
          slotLabelFormat: { hour: '2-digit', minute: '2-digit', hour12: false },
          events: events,
          visibleRange: {
              start: dateToString(CONFERENCE_START),
              end: dateToString(addDays(CONFERENCE_START, 5))
          },
          hiddenDays: [0, 6],
          allDaySlot: false,
          slotEventOverlap: false,
          slotMinTime: localStart.toFormat('HH:mm:ss'),
          slotMaxTime: localEnd.toFormat('HH:mm:ss'),
          initialDate: dateToString(CONFERENCE_START),

          // Render for both timeGrid and list views
          eventContent: function(info) {
              const parts = info.event.title.split(' - ');
              const title = parts[0] || '';
              const presenter = parts[1] || '';
              const link = parts[2] || '#';
              const isList = info.view.type.startsWith('list');

              if (isList) {
                // Centered time, same size as title; default list time cell will be hidden via CSS
                return {
                  html: `
                    <div class="session-time">${info.timeText}</div>
                    <div class="session-event">
                      <div class="session-title"><a href="${link}">${title}</a></div>
                      <div class="session-presenter">${presenter}</div>
                    </div>
                  `
                };
              }

              // timeGrid view
              return {
                  html: `
                    <div class="fc-event-time">${info.timeText}</div>
                    <div class="session-event">
                        <div class="session-title"><a href="${link}">${title}</a></div>
                        <div class="session-presenter">${presenter}</div>
                    </div>
                  `
              };
          },

          headerToolbar: {
              start: '',
              center: 'title',
              end: ''
          },
          titleFormat: { year: 'numeric', month: 'long', day: 'numeric' },

          // Live-switch views on resize
          windowResize: function() {
              const mobileNow = window.matchMedia('(max-width: 600px)').matches;
              const curr = calendar.view.type;
              if (mobileNow && curr !== 'listWeek') {
                  calendar.changeView('listWeek');
              } else if (!mobileNow && curr !== 'timeGridWeek') {
                  calendar.changeView('timeGridWeek');
              }
          }
      });

      calendar.render();

      // Replace inline time zone message construction with utility
      document.getElementById('info-message').innerHTML = timeZoneMessage();
    });
  </script>
</body>
</html>
